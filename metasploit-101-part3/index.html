<!DOCTYPE html>
<!--[if IE 7]>
<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8) ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<base href="/" />

	<meta charset="UTF-8" />
	<title>Metasploit 101 – Part 3 &#8211; Meterpreter | Man in the Middle</title>
	
	
	<!--[if lt IE 9]>
	<script src="contents/ui/theme/js/html5.js" type="text/javascript"></script>
	<![endif]-->
	



<link rel='stylesheet' id='parament-css'  href='contents/ui/theme/style.css' type='text/css' media='all' />
<script type='text/javascript' src='inc/js/jquery/jquery.js'></script>
<script type='text/javascript' src='inc/js/jquery/jquery-migrate.min.js'></script>









		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
			<style type="text/css">
			#branding {
			overflow: hidden;
			position: relative;
			width: 820px;
			height: 164px;
		}
		#site-title,
		#site-description {
			position: relative;
			margin-left: 50px;
			z-index: 2;
		}
		#site-title {
			margin-top: 60px;
		}
		#site-description {
			display: block;
		}
		#header-image {
			display: block;
			position: absolute;
			top: 0;
			left: 0;
			width: 820px;
			height: 164px;
			z-index: 1;
		}
			#site-title,
		#site-description {
			position: absolute;
			clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
			clip: rect(1px, 1px, 1px, 1px);
		}
		</style>
	<style type="text/css" id="syntaxhighlighteranchor"></style>

<script type='text/javascript' src='contents/lib/wp-spamshield/js/jscripts.php'></script> 
</head>

<body class="post-template-default single single-post postid-54 single-format-standard has-image">

<div id="page-wrap" class="contain">
	<header id="branding" role="banner">
		<h1 id="site-title"><a href="">Man in the Middle</a></h1>
		
					<a id="header-image" href=""><img src="contents/data/2015/02/logo.png" alt="" /></a>
			</header><!-- #branding -->

	<nav id="menu" role="navigation"><ul id="primary-menu" class="menu"><li id="menu-item-13" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-13"><a title="Useful Free Tools for Penetration Testing" href="tools-for-pentest/">Tools</a></li>
<li id="menu-item-24" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-24"><a href="useful-links/">Useful Links</a></li>
<li id="menu-item-26" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-26"><a href="https://github.com/mitm-dev">mitm on GitHub</a></li>
<li id="menu-item-164" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-164"><a href="https://twitter.com/RealMitM">@RealMitM</a></li>
</ul></nav>
<div id="container" class="contain">
	<div id="main" role="main">
													
<article id="post-54" class="contain post-54 post type-post status-publish format-standard hentry category-metasploit category-tools has-byline">

	<div class="title">
					<h2 class="entry-title">Metasploit 101 – Part 3 &#8211; Meterpreter</h2>				<div class="entry-byline">
			<span>Posted by <a href="author/mitm/" title="View all posts by mitm">mitm</a> on <a href="metasploit-101-part3/">19/01/2015</a></span>
					</div>

		<div class="entry-meta">
						Posted in: <a href="category/metasploit/" rel="category tag">Metasploit</a>, <a href="category/tools/" rel="category tag">Tools</a>.			
			
					</div><!-- entry-meta -->

	</div><!-- end title -->

	<div class="entry-content">
		<p dir="rtl" style="text-align: right;">אחד מה-payloads השימושיים של Metasploit הוא meterpreter.<br />
השם מייצג Meta Interpreter ומדובר בכלי שיודע להריץ שלל שפות תכנות ושפות סקריפט.<br />
ל-meterpreter יש יכולת לעבודה עם מערכת הקבצים, עם ה-registry עם הרשת (network) ועוד<br />
מעבר לכך יש לו הרבה מאוד יכולות שימושיות:</p>
<p dir="rtl" style="text-align: right;"><strong>Shell</strong> – פותח שורת פקודה סטנדרטית (cmd ב-windows למשל)<br />
<strong>Migrate</strong> – עובר ל-process אחר. אם עברנו ל-process של יוזר מסוים אנחנו נרוץ עם ההרשאות שלו.<br />
<strong>Ps</strong> &#8211; רשימת התהליכים במערכת כולל פרטים על כל תהליך (למשל משתמש)<br />
<strong>Run</strong> – מאפשר להריץ מודולים מסוג post שמאפשרים לבצע פעולות שונות במערכת.<br />
<strong>Use</strong> – טוען מודול נוסף לתוך meterpreter</p>
<p dir="rtl" style="text-align: right;"><span id="more-54"></span>כדי לקבל מידע על הפקודות והמודולים נריץ את הפקודות הבאות:</p>
<p dir="rtl" style="text-align: right;"><strong>Help</strong> – נותן את רשימת הפקודות של meterpreter<br />
<strong>run</strong> – אם נקיש run אחריו רווח ואז פעמיים tab נוכל לצפות בכל מודולי ה-post שניתן לטעון<br />
<strong>use</strong> &#8211; אם נקיש use אחריו רווח ואז פעמיים tab נוכל לצפות בכל המודולים שניתן לטעון לתוך meterpreter. אחרי שטענו מודול נקיש help ונראה שנוספו לנו פקודות חדשות</p>
<p dir="rtl" style="text-align: right;">בנוסף לפקודות הבסיסיות שראינו קיימות יכולות מתקדמות נוספות למשל:</p>
<p dir="rtl" style="text-align: right;"><strong>Hashdump</strong> – מדפיס את רשימת ה-hashים של המשתמשים המקומיים.<br />
לעיתים נקבל שגיאה כזו –</p>
<p><code>meterpreter &gt; hashdump<br />
[-] priv_passwd_get_sam_hashes: Operation failed: The parameter is incorrect.</code></p>
<p dir="rtl" style="text-align: right;">במקרה כזה יש לבצע migrate לתוך process של system ולנסות שוב.<br />
<strong>Screenshot</strong> – מבצע צילום מסך של המחשב המותקף. הצילום ישמר כתמונה אצלנו במחשב. שימושי כדי לדעת מה המצב של המשתמש (האם הוא מחובר, על מה הוא עובד עכשיו ועוד)<br />
<strong>Timestomp</strong> – מאפשר לשנות את תאריך הגישה, שינוי, יצירה וכו של קבצים כדי לטשטש עקבות.<br />
<strong>Getsystem</strong> – משתמש במספר טכניקות כדי להשיג הרשאת system<br />
<strong>webcam_snap</strong> – מאפשר לצלם תמונה מתוך מצלמת רשת. בעזרת המודול webcam (מריצים בעזרת run webcam) ניתן גם לקבל video stream של מצלמת הרשת<br />
<strong>keyscan</strong> – מספר פקודות שמאפשרות להריץ keylogger על התהליך הספציפי בו אנחנו נמצאים. הפקודות הן &#8211; keyscan_start, keyscan_stop, keyscan_dump<br />
<strong>Incognito</strong> – מודול שניתן לטעון לתוך meterpreter ע&#8221;י use Incognito  המודול מאפשר לצפות ולהשתמש בכל ה-tokens הקיימים במערכת וכך להתחזות ליוזר אחר<br />
<strong>Sniffer</strong> &#8211; מודול שניתן לטעון לתוך meterpreter ע&#8221;י use sniffer  המודול מאפשר להאזין לתעבורת רשת על השרת המותקף<br />
<strong>Winenum</strong> – מריצים ע&#8221;י run winenum. המודול מוציא מידע מפורט על המערכת כולל תהליכים, משתמשים, חיבורי רשת ועוד הרבה.</p>
<p dir="rtl" style="text-align: right;"><a href="/metasploit-101-part4">לחלק הבא – קצת על פורטים</a></p>
	</div>

		<nav id="post-nav" class="contain">
		<h1 class="assistive-text">Posts navigation</h1>
		<div class="nav-older">&larr; <a href="metasploit-101-part2/" rel="prev">Metasploit 101 – Part 2 &#8211; Commands</a></div>		<div class="nav-newer"><a href="metasploit-101-part4/" rel="next">Metasploit 101 – Part 4 &#8211; Ports Ports Ports</a> &rarr;</div>	</nav>
	
</article>				
<div id="comments">

	
	
</div><!-- #comments -->						</div><!-- end main -->

	<ul id="sidebar" role="complementary">
	<li id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></li>		<li id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">Recent Posts</h2>		<ul>
											<li>
					<a href="the-journey-to-short-xss-payload/">The Journey to Short XSS Payload</a>
									</li>
											<li>
					<a href="javascript-automated-file-deliverer/">JavaScript Automated File Deliverer</a>
									</li>
											<li>
					<a href="arp-watcher/">Arp Watcher &#8211; Is someone trying to poison you?</a>
									</li>
											<li>
					<a href="start-with-zerowine/">Zero Wine &#8211; An easy sandbox for malware analysis</a>
									</li>
											<li>
					<a href="metasploit-101-part7/">Metasploit 101 &#8211; Part 7 &#8211; Anti-Virus Evasion</a>
									</li>
					</ul>
		</li><li id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widget-title">Recent Comments</h2><ul id="recentcomments"></ul></li><li id="archives-2" class="widget widget_archive"><h2 class="widget-title">Archives</h2>		<ul>
			<li><a href='2016/09/'>September 2016</a></li>
	<li><a href='2016/03/'>March 2016</a></li>
	<li><a href='2015/06/'>June 2015</a></li>
	<li><a href='2015/04/'>April 2015</a></li>
	<li><a href='2015/02/'>February 2015</a></li>
	<li><a href='2015/01/'>January 2015</a></li>
		</ul>
		</li><li id="categories-2" class="widget widget_categories"><h2 class="widget-title">Categories</h2>		<ul>
	<li class="cat-item cat-item-9"><a href="category/arp-poisoning/" >ARP Poisoning</a>
</li>
	<li class="cat-item cat-item-3"><a href="category/general/" >General</a>
</li>
	<li class="cat-item cat-item-8"><a href="category/malware-analysis/" >Malware Analysis</a>
</li>
	<li class="cat-item cat-item-10"><a href="category/man-in-the-middle/" >Man in the middle</a>
</li>
	<li class="cat-item cat-item-7"><a href="category/metasploit/" >Metasploit</a>
</li>
	<li class="cat-item cat-item-6"><a href="category/password-cracking/" >Password Cracking</a>
</li>
	<li class="cat-item cat-item-13"><a href="category/post-exploitation/" >Post Exploitation</a>
</li>
	<li class="cat-item cat-item-5"><a href="category/source-code/" >Source Code</a>
</li>
	<li class="cat-item cat-item-4"><a href="category/tools/" >Tools</a>
</li>
	<li class="cat-item cat-item-12"><a href="category/web-applications/" >Web Applications</a>
</li>
	<li class="cat-item cat-item-11"><a href="category/xss/" >XSS</a>
</li>
		</ul>
</li></ul><!-- end sidebar -->
</div><!-- end container -->


</div><!-- end page-wrap -->
<footer id="colophon" role="contentinfo">
	<div id="site-generator">
		<a href="http://wordpress.org/" rel="generator">Proudly powered by WordPress</a>
		Theme: Parament by <a href="http://automattic.com/" rel="designer">Automattic</a>.	</div>
</footer>


<script type='text/javascript'>
/* <![CDATA[ */
r3f5x9JS=escape(document['referrer']);
hf4N='100049423aa9c795100a7e12bdfb171d';
hf4V='5be6057e1931f7a1b27085648ba2a693';
jQuery(document).ready(function($){var e="#commentform, .comment-respond form, .comment-form, #lostpasswordform, #registerform, #loginform, #login_form, #wpss_contact_form";$(e).submit(function(){$("<input>").attr("type","hidden").attr("name","r3f5x9JS").attr("value",r3f5x9JS).appendTo(e);$("<input>").attr("type","hidden").attr("name",hf4N).attr("value",hf4V).appendTo(e);return true;});$("#comment").attr({minlength:"15",maxlength:"15360"})});
/* ]]> */
</script> 
<script type='text/javascript' src='contents/lib/wp-spamshield/js/jscripts-ftr-min.js'></script>

</body>
</html>